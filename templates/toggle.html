
{% load static %}

{% block content %}
  <div class="max-w-lg mx-auto mt-10 p-6 bg-white rounded-2xl shadow-md">
    <h1 class="text-2xl font-semibold mb-6 text-center">Celery Integration</h1>

    <form method="post" class="flex flex-col items-center gap-4">
      {% csrf_token %}

      <!-- Toggle switch -->
      <label for="id_enabled" class="flex items-center gap-3 cursor-pointer select-none">
        <input
          type="checkbox"
          name="enabled"
          id="id_enabled"
          class="sr-only peer"
          {% if toggle.enabled %}checked{% endif %}
        />
        <div
          class="w-14 h-8 bg-gray-300 rounded-full peer-checked:bg-green-500 relative transition-colors duration-300"
        >
          <span
            class="absolute left-0.5 top-0.5 h-7 w-7 bg-white rounded-full shadow-md transition-transform duration-300 peer-checked:translate-x-6"
          ></span>
        </div>
        <span class="text-lg font-medium">
          {% if toggle.enabled %}Disable{% else %}Enable{% endif %} Celery
        </span>
      </label>

      <button
        type="submit"
        class="px-6 py-2 bg-blue-600 text-white rounded-xl shadow hover:bg-blue-700 transition-colors"
      >
        Save
      </button>
    </form>
  </div>
{% endblock %}
